"use strict";(self.webpackChunklegal=self.webpackChunklegal||[]).push([[18],{4834:function(e,n,r){r.d(n,{LA:function(){return c},yo:function(){return l}});var s,t,i=r(4942);!function(e){e.year="year",e.extra="extra"}(t||(t={}));var a,l=(s={},(0,i.Z)(s,t.year,"\u0433\u043e\u0434\u043e\u0432\u043e\u0435"),(0,i.Z)(s,t.extra,"\u0432\u043d\u0435\u043e\u0447\u0435\u0440\u0435\u0434\u043d\u043e\u0435"),s);!function(e){e.ochno="ochno"}(a||(a={}));var c=(0,i.Z)({},a.ochno,"\u043e\u0447\u043d\u043e\u0435")},3583:function(e,n,r){r.d(n,{Ho:function(){return u},Ih:function(){return c},eQ:function(){return l},nC:function(){return i}});var s,t,i,a=r(4942);!function(e){e.legal="legal",e.man="man"}(i||(i={}));var l,c=(s={},(0,a.Z)(s,i.legal,"\u042e\u0440\u0438\u0434\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u043b\u0438\u0446\u043e"),(0,a.Z)(s,i.man,"\u0424\u0438\u0437\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u043b\u0438\u0446\u043e"),s);!function(e){e.owner="owner",e.director="director",e.employee="employee"}(l||(l={}));l.director,l.owner;var u=(t={},(0,a.Z)(t,l.director,"\u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440"),(0,a.Z)(t,l.owner,"\u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u0438\u043a"),(0,a.Z)(t,l.employee,"\u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a"),t)},7852:function(e,n,r){r.d(n,{r:function(){return l}});var s=r(4165),t=r(5861),i=r(4569),a=r.n(i),l={getCompany:function(e){return(0,t.Z)((0,s.Z)().mark((function n(){var r,t;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,a().post("https://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/party",{query:e},{headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Token f72f5381ea6760b06b1034d298d2c9bce5824346"}});case 3:return r=n.sent,t=r.data.suggestions.map((function(e){return{inn:e.data.inn,name:e.value}})),console.log("\ud83d\ude80 ~ file: dadata.ts ~ line 19 ~ getCompany ~ result",t),n.abrupt("return",t);case 9:n.prev=9,n.t0=n.catch(0);case 11:case"end":return n.stop()}}),n,null,[[0,9]])})))()}}},5018:function(e,n,r){r.r(n),r.d(n,{default:function(){return A}});var s=r(2791),t=r(141),i=r(1966),a=r(6871),l=r(3504),c=r(9439),u=r(7947),o=r(8678),d=r(7309),m=r(184),h=function(e){var n=e.requisites,r=(0,s.useState)(!0),t=(0,c.Z)(r,2),i=t[0],a=t[1],l=u.Z.useForm(),h=(0,c.Z)(l,1)[0],x=function(){a(!i)};return n.inn?(0,m.jsxs)("div",{children:[(0,m.jsxs)(u.Z,{form:h,disabled:i,layout:"vertical",initialValues:n,children:[(0,m.jsx)(u.Z.Item,{name:"name",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",rules:[{required:!0,message:"Please input the title of collection!"}],children:(0,m.jsx)(o.Z,{})}),(0,m.jsx)(u.Z.Item,{name:"inn",label:"\u0418\u041d\u041d",rules:[{required:!0,message:"Please input the title of collection!"}],children:(0,m.jsx)(o.Z,{})}),(0,m.jsx)(u.Z.Item,{name:"kpp",label:"\u041a\u041f\u041f",rules:[{required:!0,message:"Please input the title of collection!"}],children:(0,m.jsx)(o.Z,{})}),(0,m.jsx)(u.Z.Item,{name:"ogrn",label:"\u041e\u0413\u0420\u041d",rules:[{required:!0,message:"Please input the title of collection!"}],children:(0,m.jsx)(o.Z,{})}),(0,m.jsx)(u.Z.Item,{name:"address",label:"\u042e\u0440\u0438\u0434\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0430\u0434\u0440\u0435\u0441",rules:[{required:!0,message:"Please input the title of collection!"}],children:(0,m.jsx)(o.Z,{})})]}),i?(0,m.jsx)(d.Z,{type:"primary",onClick:x,children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"}):(0,m.jsx)(d.Z,{type:"primary",onClick:x,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]}):null},x=r(6750),Z=r(1413),j=r(8111),f=r(3441),p=r(2730),g=r(7528),v=r(4165),b=r(5861),y=r(3430),k=r(3344),I=r(3335),C=r(7852),q=r(3583),w=y.Z.Option,_=j.ZP.create((function(e){var n=e.member,r=(0,s.useState)(!n||n.type.includes(q.eQ.owner)),t=(0,c.Z)(r,2),i=(t[0],t[1],(0,s.useState)(n&&n.form)),a=(0,c.Z)(i,2),l=a[0],d=a[1],h=(0,s.useState)([]),x=(0,c.Z)(h,2),f=x[0],p=x[1],g=(0,j.dd)(),_=u.Z.useForm(),F=(0,c.Z)(_,1)[0],T=(0,s.useCallback)((function(){F.validateFields().then((function(){var e=(0,Z.Z)({},F.getFieldsValue());g.resolve(e),g.hide()}))}),[g,F]),O=function(){var e=(0,b.Z)((0,v.Z)().mark((function e(n){var r;return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.r.getCompany(n);case 2:r=e.sent,p(r);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),P=(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(u.Z.Item,{name:"firstname",label:"\u0418\u043c\u044f",rules:[{required:!0,message:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"}],children:(0,m.jsx)(o.Z,{})}),(0,m.jsx)(u.Z.Item,{name:"lastname",label:"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e",rules:[{required:!0,message:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"}],children:(0,m.jsx)(o.Z,{})}),(0,m.jsx)(u.Z.Item,{name:"sirname",label:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",rules:[{required:!0,message:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"}],children:(0,m.jsx)(o.Z,{})}),(0,m.jsx)(u.Z.Item,{name:"passport",label:"\u041f\u0430\u0441\u043f\u043e\u0440\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435",rules:[{message:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"}],children:(0,m.jsx)(o.Z,{})}),(0,m.jsx)(u.Z.Item,{name:"part",label:"\u0414\u043e\u043b\u044f \u0432 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438, %",rules:[{required:!0,message:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"}],children:(0,m.jsx)(k.Z,{min:0,max:100})})]}),S=(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(u.Z.Item,{name:"inn",label:"\u0418\u041d\u041d",rules:[{required:!0,message:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"}],children:(0,m.jsx)(y.Z,{showSearch:!0,filterOption:!1,onSearch:O,children:f.map((function(e){return(0,m.jsxs)(w,{value:e.inn,children:[(0,m.jsxs)("span",{children:[e.name," "]}),(0,m.jsx)("span",{style:{color:"gray",fontSize:"10px"},children:e.inn})]})}))})}),(0,m.jsx)(u.Z.Item,{name:"base",label:"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u0438\u0442\u0435\u043b\u044f \u0432 \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u043c \u043f\u0430\u0434\u0435\u0436\u0435",initialValue:"\u0413\u0435\u043d\u0435\u0440\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0430",rules:[{required:!0,message:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"}],children:(0,m.jsx)(o.Z,{})}),(0,m.jsx)(u.Z.Item,{name:"firstname",label:"\u0418\u043c\u044f \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u0438\u0442\u0435\u043b\u044f \u0432 \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u043c \u043f\u0430\u0434\u0435\u0436\u0435",rules:[{required:!0,message:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"}],children:(0,m.jsx)(o.Z,{})}),(0,m.jsx)(u.Z.Item,{name:"lastname",label:"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u0438\u0442\u0435\u043b\u044f \u0432 \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u043c \u043f\u0430\u0434\u0435\u0436\u0435",rules:[{required:!0,message:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"}],children:(0,m.jsx)(o.Z,{})}),(0,m.jsx)(u.Z.Item,{name:"sirname",label:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u0438\u0442\u0435\u043b\u044f \u0432 \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u043c \u043f\u0430\u0434\u0435\u0436\u0435",rules:[{required:!0,message:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"}],children:(0,m.jsx)(o.Z,{})}),(0,m.jsx)(u.Z.Item,{name:"passport",label:"\u041f\u0430\u0441\u043f\u043e\u0440\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u0438\u0442\u0435\u043b\u044f",rules:[{message:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"}],children:(0,m.jsx)(o.Z,{})}),(0,m.jsx)(u.Z.Item,{name:"part",label:"\u0414\u043e\u043b\u044f \u0432 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438, %",rules:[{required:!0,message:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"}],children:(0,m.jsx)(k.Z,{min:0,max:100})})]});return(0,m.jsx)(I.Z,(0,Z.Z)((0,Z.Z)({},(0,j.Tr)(g)),{},{title:"\u041b\u0438\u0446\u043e",onOk:T,okText:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",cancelText:"\u041e\u0442\u043c\u0435\u043d\u0430",children:(0,m.jsxs)(u.Z,{form:F,initialValues:n,layout:"vertical",children:[(0,m.jsx)(u.Z.Item,{name:"form",label:"\u0424\u0438\u0437\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u0438\u043b\u0438 \u044e\u0440\u0438\u0434\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u043b\u0438\u0446\u043e",rules:[{required:!0,message:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"}],children:(0,m.jsx)(y.Z,{allowClear:!0,style:{width:"100%"},onChange:function(e){d(e)},children:Object.keys(q.Ih).map((function(e,n){return(0,m.jsx)(w,{value:e,children:q.Ih[e]},n)}))})}),l?l===q.nC.legal?S:P:null]})}))})),F=function(e){var n=e.members,r=e.company_id;console.log("\ud83d\ude80 ~ file: index.tsx ~ line 14 ~ members",n);var t=(0,j.dd)(_),i=(0,x.o)((function(e){return e})),a=i.addMember,l=i.changeMember,c=(0,s.useCallback)((function(){t.show().then((function(e){a((0,Z.Z)((0,Z.Z)({},e),{},{company_id:r}))}))}),[t,n]),u=(0,s.useCallback)((function(e){t.show({member:e}).then((function(n){l((0,Z.Z)((0,Z.Z)({},n),{},{id:e.id}))}))}),[t,n]),o=n.reduce((function(e,n){return e+ +n.part}),0);return(0,m.jsxs)("div",{children:[(0,m.jsx)(d.Z,{type:"primary",onClick:c,children:"+ \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0430"}),(0,m.jsxs)("div",{className:"cards",children:[100!==o&&(0,m.jsx)(f.Z,{message:"\u041e\u0431\u0449\u0430\u044f \u0434\u043e\u043b\u044f \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u043e\u0432 \u043d\u0435 \u0440\u0430\u0432\u043d\u0430 100%. \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0434\u043e\u043b\u0438 \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u043e\u0432 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438.",type:"warning"}),n.map((function(e){var n=e.form===q.nC.legal?"\u041e\u041e\u041e "+e.company_name:"".concat(e.sirname," ").concat(e.firstname," ").concat(e.lastname);return(0,m.jsxs)(p.Z,{hoverable:!0,title:n,onClick:function(){return u(e)},children:[(0,m.jsx)("div",{children:e.type&&e.type.map((function(e,n){return(0,m.jsx)(g.Z,{color:"green",children:q.Ho[e]},n)}))}),(0,m.jsxs)("div",{children:["\u041f\u0430\u0441\u043f\u043e\u0440\u0442: ",e.passport]}),e.part&&(0,m.jsxs)("div",{children:["\u0414\u043e\u043b\u044f \u0432 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438: ",e.part,"%"]})]},e.id)}))]})]})},T=j.ZP.create((function(e){e.meeting;var n=(0,j.dd)(),r=u.Z.useForm(),t=(0,c.Z)(r,1)[0],i=(0,s.useCallback)((function(){t.validateFields().then((function(){var e=(0,Z.Z)({},t.getFieldsValue());n.resolve(e),n.hide()}))}),[n,t]);return(0,m.jsx)(I.Z,(0,Z.Z)((0,Z.Z)({},(0,j.Tr)(n)),{},{title:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0441\u043e\u0431\u0440\u0430\u043d\u0438\u0435",okText:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",cancelText:"\u041e\u0442\u043c\u0435\u043d\u0430",onOk:i,children:(0,m.jsx)(u.Z,{form:t,layout:"vertical",children:(0,m.jsx)(u.Z.Item,{name:"name",label:"\u0423\u0441\u043b\u043e\u0432\u043d\u043e\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u043e\u0431\u0440\u0430\u043d\u0438\u044f",rules:[{required:!0,message:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"}],children:(0,m.jsx)(o.Z,{})})})}))})),O=r(4834),P=function(e){var n=e.meetings,r=e.company_id,t=(0,j.dd)(T),i=(0,x.o)((function(e){return e})).addMeeting,l=(0,a.s0)(),c=(0,s.useCallback)((function(){t.show().then((function(e){i(r,e.name)}))}),[t,n]);return(0,m.jsxs)("div",{children:[(0,m.jsx)(d.Z,{type:"primary",onClick:c,children:"+ \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u0431\u0440\u0430\u043d\u0438\u0435"}),(0,m.jsx)("div",{className:"cards",children:n.map((function(e){return(0,m.jsxs)(p.Z,{hoverable:!0,title:e.name,onClick:function(){return n=e.id,void l("/meetings/"+n);var n},children:[(0,m.jsx)("div",{children:e.date_of_meeting}),(0,m.jsx)("div",{children:O.yo[e.type_of_cause]}),(0,m.jsx)("div",{children:O.LA[e.type]})]},e.id)}))})]})},S=t.Z.TabPane,A=function(){var e=(0,a.UO)().id,n=(0,x.o)((function(e){return e})),r=n.company,c=n.getCompany;return(0,s.useEffect)((function(){e&&c(e)}),[e]),r?(0,m.jsxs)("div",{children:[(0,m.jsxs)(i.Z,{children:[(0,m.jsx)(i.Z.Item,{children:(0,m.jsx)(l.OL,{to:"/companies",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"})}),(0,m.jsx)(i.Z.Item,{children:(0,m.jsx)(l.OL,{to:"/companies",children:"\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u0438"})})]}),(0,m.jsx)("div",{className:"header",children:(0,m.jsx)("h1",{children:"\u041e\u041e\u041e "+r.requisites.name})}),(0,m.jsxs)(t.Z,{defaultActiveKey:"1",children:[(0,m.jsx)(S,{tab:"\u0420\u0435\u043a\u0432\u0438\u0437\u0438\u0442\u044b",children:(0,m.jsx)(h,{requisites:r.requisites})},"1"),(0,m.jsx)(S,{tab:"\u041b\u0438\u0446\u0430",children:(0,m.jsx)(F,{members:r.members,company_id:r.id})},"2"),(0,m.jsx)(S,{tab:"\u0421\u043e\u0431\u0440\u0430\u043d\u0438\u044f",children:(0,m.jsx)(P,{meetings:r.meetings,company_id:r.id})},"3")]})]}):null}}}]);
//# sourceMappingURL=18.19751151.chunk.js.map