"use strict";(self.webpackChunklegal=self.webpackChunklegal||[]).push([[201],{7852:function(n,e,t){t.d(e,{r:function(){return c}});var r=t(4165),a=t(5861),i=t(4569),s=t.n(i),c={getCompany:function(n){return(0,a.Z)((0,r.Z)().mark((function e(){var t,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s().post("https://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/party",{query:n},{headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Token f72f5381ea6760b06b1034d298d2c9bce5824346"}});case 3:return t=e.sent,a=t.data.suggestions.map((function(n){return{inn:n.data.inn,name:n.value}})),console.log("\ud83d\ude80 ~ file: dadata.ts ~ line 19 ~ getCompany ~ result",a),e.abrupt("return",a);case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})))()}}},4201:function(n,e,t){t.r(e),t.d(e,{default:function(){return j}});var r=t(2791),a=t(7309),i=t(2730),s=t(8111),c=t(6871),o=t(1413),u=t(4165),l=t(5861),d=t(9439),p=t(3430),f=t(7947),h=t(3335),m=t(7852),v=t(184),g=p.Z.Option,x=s.ZP.create((function(n){n.company;var e=(0,r.useState)([]),t=(0,d.Z)(e,2),a=t[0],i=t[1],c=(0,s.dd)(),x=f.Z.useForm(),Z=(0,d.Z)(x,1)[0],j=function(){var n=(0,l.Z)((0,u.Z)().mark((function n(e){var t;return(0,u.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,m.r.getCompany(e);case 2:t=n.sent,i(t);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),y=(0,r.useCallback)((function(){Z.validateFields().then((function(){var n=(0,o.Z)({},Z.getFieldsValue());c.resolve(n),c.hide()}))}),[c,Z]);return(0,v.jsx)(h.Z,(0,o.Z)((0,o.Z)({},(0,s.Tr)(c)),{},{title:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044e",okText:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",cancelText:"\u041e\u0442\u043c\u0435\u043d\u0430",onOk:y,children:(0,v.jsx)(f.Z,{form:Z,layout:"vertical",children:(0,v.jsx)(f.Z.Item,{name:"inn",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0438\u043b\u0438 \u0418\u041d\u041d \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438",rules:[{required:!0,message:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"}],children:(0,v.jsx)(p.Z,{showSearch:!0,filterOption:!1,onSearch:j,children:a.map((function(n){return(0,v.jsxs)(g,{value:n.inn,children:[(0,v.jsxs)("span",{children:[n.name," "]}),(0,v.jsx)("span",{style:{color:"gray",fontSize:"10px"},children:n.inn})]})}))})})})}))})),Z=t(5256),j=function(){var n=(0,c.s0)(),e=(0,Z.o)((function(n){return n})),t=e.companies,o=e.addCompany,u=e.getCompanies,l=e.user_id;console.log("\ud83d\ude80 ~ file: index.tsx ~ line 13 ~ CompaniesPage ~ user_id",l);var d=(0,c.s0)(),p=(0,s.dd)(x),f=(0,r.useCallback)((function(){p.show().then((function(n){o(n,l)}))}),[p,t]);return(0,r.useEffect)((function(){if(!l)return d("/login");u(l)}),[]),(0,v.jsxs)("div",{className:"wrapper",children:[(0,v.jsx)("h1",{children:"\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u0438"}),(0,v.jsx)(a.Z,{type:"primary",onClick:f,children:"+ \u041d\u043e\u0432\u0430\u044f \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044f"}),(0,v.jsx)("div",{className:"cards",children:t.map((function(e){return(0,v.jsx)(i.Z,{hoverable:!0,title:"\u041e\u041e\u041e "+e.name,onClick:function(){return t=e.id,void n("/companies/"+t);var t},children:(0,v.jsx)("span",{children:"\u0418\u041d\u041d - ".concat(e.inn,", \u041e\u0413\u0420\u041d - ").concat(null===e||void 0===e?void 0:e.ogrn)})},e.id)}))})]})}}}]);
//# sourceMappingURL=201.5949ab37.chunk.js.map