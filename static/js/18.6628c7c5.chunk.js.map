{"version":3,"file":"static/js/18.6628c7c5.chunk.js","mappings":"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","sources":["entities/meeting/types.ts","entities/member/types.ts","features/dadata.ts","pages/companyDetails/blocks/requisites/index.tsx","entities/member/MemberForm.tsx","pages/companyDetails/blocks/members/index.tsx","entities/meeting/form.tsx","pages/companyDetails/blocks/meetings/index.tsx","pages/companyDetails/index.tsx"],"sourcesContent":["import { IAnswer } from \"entities/answer/types\";\r\nimport { Moment } from \"moment\";\r\n\r\nexport interface IQuestion {\r\n  id: number;\r\n  index: number;\r\n  name: string;\r\n  solution: string;\r\n  description: string;\r\n  decision: string;\r\n}\r\n\r\nexport interface IMeeting {\r\n  id: string;\r\n  name: string;\r\n  info: {\r\n    name: string;\r\n    date_of_meeting?: Moment;\r\n    date_of_registration?: Moment;\r\n    date_of_start?: Moment;\r\n    date_of_finish?: Moment;\r\n    address_of_meeting?: string;\r\n    type?: MeetingTypeEnum;\r\n    type_of_cause?: MeetingTypeOfСauseEnum;\r\n    company_id?: string;\r\n  };\r\n  questions: IQuestion[];\r\n  // dateOfMeeting?: Date;\r\n  // addressOfMeeting?: string;\r\n  // type?: MeetingTypeEnum;\r\n  // typeOfСause?: MeetingTypeOfСauseEnum;\r\n  answers: IAnswer[];\r\n}\r\n\r\nexport enum MeetingTypeOfСauseEnum {\r\n  year = \"year\",\r\n  extra = \"extra\",\r\n}\r\n\r\nexport const MEETING_TYPES_OF_CAUSE: {\r\n  [index: string]: string;\r\n} = {\r\n  [MeetingTypeOfСauseEnum.year]: \"годовое\",\r\n  [MeetingTypeOfСauseEnum.extra]: \"внеочередное\",\r\n};\r\n\r\nexport enum MeetingTypeEnum {\r\n  ochno = \"ochno\",\r\n  // zaochno = \"zaochno\",\r\n  // ochnozaochno = \"ochnozaochno\",\r\n}\r\n\r\nexport const MEETING_TYPES: {\r\n  [index: string]: string;\r\n} = {\r\n  [MeetingTypeEnum.ochno]: \"очное\",\r\n  // [MeetingTypeEnum.zaochno]: \"заочное\",\r\n  // [MeetingTypeEnum.ochnozaochno]: \"очная-заочное\",\r\n};\r\n\r\nexport interface IQuestionType {\r\n  id: number;\r\n  name: string;\r\n  law?: string;\r\n  description: string;\r\n}","export interface IMember {\r\n  id?: number;\r\n  firstname: string;\r\n  lastname: string;\r\n  sirname: string;\r\n  passport: string;\r\n  type: MemberTypeEnum[];\r\n  part?: number;\r\n  form: MemberFormEnum;\r\n  inn?: string;\r\n  company_name?: string;\r\n  ogrn?: string;\r\n  base?: string;\r\n}\r\n\r\nexport enum MemberFormEnum {\r\n  legal = \"legal\",\r\n  man = \"man\",\r\n}\r\n\r\nexport const MEMBERS_FORMS: {\r\n  [index: string]: string;\r\n} = {\r\n  [MemberFormEnum.legal]: \"Юридическое лицо\",\r\n  [MemberFormEnum.man]: \"Физическое лицо\",\r\n};\r\n\r\nexport enum MemberTypeEnum {\r\n  owner = \"owner\",\r\n  director = \"director\",\r\n  employee = \"employee\",\r\n}\r\n\r\nexport const MEMBER_TYPES = [\r\n  {\r\n    en: MemberTypeEnum.director,\r\n    ru: \"единоличный исполнительный орган\",\r\n  },\r\n  {\r\n    en: MemberTypeEnum.owner,\r\n    ru: \"участник\",\r\n  },\r\n];\r\n\r\nexport const MEMBERS_TYPES: {\r\n  [index: string]: string;\r\n} = {\r\n  [MemberTypeEnum.director]: \"директор\",\r\n  [MemberTypeEnum.owner]: \"собственник\",\r\n  [MemberTypeEnum.employee]: \"сотрудник\",\r\n};\r\n","import axios from \"axios\";\r\nimport { utimes } from \"fs\";\r\nimport { api } from \"shared/config/api\";\r\n\r\nexport const DADATA_API = {\r\n  async getCompany(query: string) {\r\n    try {\r\n      const options = await axios.post(\r\n        \"https://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/party\",\r\n        { query },\r\n        {\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            Accept: \"application/json\",\r\n            Authorization: \"Token f72f5381ea6760b06b1034d298d2c9bce5824346\",\r\n          },\r\n        }\r\n      );\r\n    //   const result = options.data.suggestions\r\n      const result = options.data.suggestions.map((item: any) => ({inn: item.data.inn, name: item.value}))\r\n      console.log(\"🚀 ~ file: dadata.ts ~ line 19 ~ getCompany ~ result\", result)\r\n      return result;\r\n    } catch (error) {}\r\n  },\r\n};\r\n","import { Button, Form, Input } from \"antd\";\r\nimport { ICompanyRequisites } from \"entities/company/types\";\r\nimport { FC, useState } from \"react\";\r\n\r\n\r\n\r\ninterface IPropc {\r\n  requisites: ICompanyRequisites;\r\n}\r\n\r\nexport const RequisitiesBlock: FC<IPropc> = ({ requisites }) => {\r\n  const [isActiveForm, setIsActiveForm] = useState(true);\r\n  const [form] = Form.useForm();\r\n\r\n  const activeHandler = () => {\r\n    setIsActiveForm(!isActiveForm);\r\n  };\r\n\r\n  if (!requisites.inn) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Form\r\n        form={form}\r\n        disabled={isActiveForm}\r\n        layout=\"vertical\"\r\n        initialValues={requisites}\r\n      >\r\n        <Form.Item\r\n          name=\"name\"\r\n          label=\"Название\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"Please input the title of collection!\",\r\n            },\r\n          ]}\r\n        >\r\n          <Input />\r\n        </Form.Item>\r\n        <Form.Item\r\n          name=\"inn\"\r\n          label=\"ИНН\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"Please input the title of collection!\",\r\n            },\r\n          ]}\r\n        >\r\n          <Input />\r\n        </Form.Item>\r\n        <Form.Item\r\n          name=\"kpp\"\r\n          label=\"КПП\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"Please input the title of collection!\",\r\n            },\r\n          ]}\r\n        >\r\n          <Input />\r\n        </Form.Item>\r\n        <Form.Item\r\n          name=\"ogrn\"\r\n          label=\"ОГРН\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"Please input the title of collection!\",\r\n            },\r\n          ]}\r\n        >\r\n          <Input />\r\n        </Form.Item>\r\n        <Form.Item\r\n          name=\"address\"\r\n          label=\"Юридический адрес\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"Please input the title of collection!\",\r\n            },\r\n          ]}\r\n        >\r\n          <Input />\r\n        </Form.Item>\r\n      </Form>\r\n      {isActiveForm ? (\r\n        <Button type=\"primary\" onClick={activeHandler}>\r\n          Изменить\r\n        </Button>\r\n      ) : (\r\n        <Button type=\"primary\" onClick={activeHandler}>\r\n          Сохранить\r\n        </Button>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","import NiceModal, { useModal, antdModal } from \"@ebay/nice-modal-react\";\r\nimport { Form, Input, InputNumber, Modal, Select } from \"antd\";\r\nimport { DADATA_API } from \"features/dadata\";\r\nimport { useCallback, useState } from \"react\";\r\nimport { CompanySearch } from \"shared/companysearch\";\r\nimport {\r\n  IMember,\r\n  MEMBER_TYPES,\r\n  MemberTypeEnum,\r\n  MEMBERS_FORMS,\r\n  MemberFormEnum,\r\n} from \"./types\";\r\n\r\nconst { Option } = Select;\r\n\r\nexport default NiceModal.create(({ member }: { member: IMember }) => {\r\n  console.log(\r\n    \"🚀 ~ file: MemberForm.tsx ~ line 19 ~ NiceModal.create ~ member\",\r\n    member\r\n  );\r\n  const [isOwner, setIsOwner] = useState<boolean>(\r\n    member ? member.type.includes(MemberTypeEnum.owner) : true\r\n  );\r\n  const [memberForm, setMemberForm] = useState<MemberFormEnum>(\r\n    member && member.form\r\n  );\r\n  const [options, setOptions] = useState<any[]>([]);\r\n\r\n  const modal = useModal();\r\n  const [form] = Form.useForm();\r\n\r\n  const handleSubmit = useCallback(() => {\r\n    form.validateFields().then(() => {\r\n      const newMember = { ...form.getFieldsValue() };\r\n      modal.resolve(newMember);\r\n      modal.hide();\r\n    });\r\n  }, [\r\n    modal,\r\n    // user,\r\n    form,\r\n  ]);\r\n\r\n  const onSearch = async (value: string) => {\r\n    const newOptions = await DADATA_API.getCompany(value);\r\n    setOptions(newOptions);\r\n  };\r\n\r\n  const handleChangeMemberType = (values: any[]) => {\r\n    if (values.includes(MemberTypeEnum.owner)) {\r\n      setIsOwner(true);\r\n    } else {\r\n      setIsOwner(false);\r\n    }\r\n  };\r\n\r\n  const handleChangeFormType = (value: MemberFormEnum) => {\r\n    setMemberForm(value);\r\n  };\r\n\r\n  const manForm = (\r\n    <>\r\n      <Form.Item\r\n        name=\"firstname\"\r\n        label=\"Имя\"\r\n        rules={[\r\n          {\r\n            required: true,\r\n            message: \"Please input the title of collection!\",\r\n          },\r\n        ]}\r\n      >\r\n        <Input />\r\n      </Form.Item>\r\n      <Form.Item\r\n        name=\"lastname\"\r\n        label=\"Отчество\"\r\n        rules={[\r\n          {\r\n            required: true,\r\n            message: \"Please input the title of collection!\",\r\n          },\r\n        ]}\r\n      >\r\n        <Input />\r\n      </Form.Item>\r\n      <Form.Item\r\n        name=\"sirname\"\r\n        label=\"Фамилия\"\r\n        rules={[\r\n          {\r\n            required: true,\r\n            message: \"Please input the title of collection!\",\r\n          },\r\n        ]}\r\n      >\r\n        <Input />\r\n      </Form.Item>\r\n      <Form.Item\r\n        name=\"passport\"\r\n        label=\"Паспортные данные\"\r\n        rules={[\r\n          {\r\n            // required: true,\r\n            message: \"Please input the title of collection!\",\r\n          },\r\n        ]}\r\n      >\r\n        <Input />\r\n      </Form.Item>\r\n\r\n      {/* <Form.Item\r\n        name=\"type\"\r\n        label=\"Статус лица\"\r\n        rules={[\r\n          {\r\n            required: true,\r\n            message: \"Please input the title of collection!\",\r\n          },\r\n        ]}\r\n      >\r\n        <Select\r\n          mode=\"multiple\"\r\n          allowClear\r\n          style={{ width: \"100%\" }}\r\n          onChange={handleChangeMemberType}\r\n        >\r\n          {MEMBER_TYPES.map((member_type) => (\r\n            <Option key={member_type.en}>{member_type.ru}</Option>\r\n          ))}\r\n        </Select>\r\n      </Form.Item> */}\r\n\r\n      <Form.Item\r\n        name=\"part\"\r\n        label=\"Доля в компании, %\"\r\n        rules={[\r\n          {\r\n            required: true,\r\n            message: \"Please input the title of collection!\",\r\n          },\r\n        ]}\r\n      >\r\n        <InputNumber min={0} max={100} />\r\n      </Form.Item>\r\n    </>\r\n  );\r\n\r\n  const legalForm = (\r\n    <>\r\n      <Form.Item\r\n        name=\"inn\"\r\n        label=\"ИНН\"\r\n        rules={[\r\n          {\r\n            required: true,\r\n            message: \"Please input the title of collection!\",\r\n          },\r\n        ]}\r\n      >\r\n        {/* <Input /> */}\r\n        {/* <CompanySearch /> */}\r\n        <Select\r\n          showSearch\r\n          filterOption={false}\r\n          onSearch={onSearch}\r\n          // notFoundContent={fetching ? <Spin size=\"small\" /> : null}\r\n        >\r\n          {options.map((option) => (\r\n            <Option value={option.inn}>\r\n              <span>{option.name} </span>\r\n              <span style={{ color: \"gray\", fontSize: \"10px\" }}>\r\n                {option.inn}\r\n              </span>\r\n            </Option>\r\n          ))}\r\n        </Select>\r\n      </Form.Item>\r\n      <Form.Item\r\n        name=\"firstname\"\r\n        label=\"Имя представителя\"\r\n        rules={[\r\n          {\r\n            required: true,\r\n            message: \"Please input the title of collection!\",\r\n          },\r\n        ]}\r\n      >\r\n        <Input />\r\n      </Form.Item>\r\n      <Form.Item\r\n        name=\"lastname\"\r\n        label=\"Отчество представителя\"\r\n        rules={[\r\n          {\r\n            required: true,\r\n            message: \"Please input the title of collection!\",\r\n          },\r\n        ]}\r\n      >\r\n        <Input />\r\n      </Form.Item>\r\n      <Form.Item\r\n        name=\"sirname\"\r\n        label=\"Фамилия представителя\"\r\n        rules={[\r\n          {\r\n            required: true,\r\n            message: \"Please input the title of collection!\",\r\n          },\r\n        ]}\r\n      >\r\n        <Input />\r\n      </Form.Item>\r\n      <Form.Item\r\n        name=\"base\"\r\n        label=\"Основание представления общества\"\r\n        rules={[\r\n          {\r\n            required: true,\r\n            message: \"Please input the title of collection!\",\r\n          },\r\n        ]}\r\n      >\r\n        <Input />\r\n      </Form.Item>\r\n      <Form.Item\r\n        name=\"passport\"\r\n        label=\"Паспортные данные представителя\"\r\n        rules={[\r\n          {\r\n            // required: true,\r\n            message: \"Please input the title of collection!\",\r\n          },\r\n        ]}\r\n      >\r\n        <Input />\r\n      </Form.Item>\r\n\r\n      {/* <Form.Item\r\n        name=\"type\"\r\n        label=\"Роль участника\"\r\n        rules={[\r\n          {\r\n            required: true,\r\n            message: \"Please input the title of collection!\",\r\n          },\r\n        ]}\r\n      >\r\n        <Select\r\n          mode=\"multiple\"\r\n          allowClear\r\n          style={{ width: \"100%\" }}\r\n          onChange={handleChangeMemberType}\r\n        >\r\n          {MEMBER_TYPES.map((member_type) => (\r\n            <Option key={member_type.en}>{member_type.ru}</Option>\r\n          ))}\r\n        </Select>\r\n      </Form.Item> */}\r\n\r\n      <Form.Item\r\n        name=\"part\"\r\n        label=\"Доля в компании, %\"\r\n        rules={[\r\n          {\r\n            required: true,\r\n            message: \"Please input the title of collection!\",\r\n          },\r\n        ]}\r\n      >\r\n        <InputNumber min={0} max={100} />\r\n      </Form.Item>\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <Modal\r\n      {...antdModal(modal)}\r\n      title=\"Лицо\"\r\n      //   okText={user ? \"Update\" : \"Create\"}\r\n      onOk={handleSubmit}\r\n      okText=\"Сохранить\"\r\n      cancelText=\"Отмена\"\r\n    >\r\n      <Form form={form} initialValues={member} layout=\"vertical\">\r\n        <Form.Item\r\n          name=\"form\"\r\n          label=\"Физическое или юридическое лицо\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"Please input the title of collection!\",\r\n            },\r\n          ]}\r\n        >\r\n          <Select\r\n            allowClear\r\n            style={{ width: \"100%\" }}\r\n            onChange={handleChangeFormType}\r\n          >\r\n            {Object.keys(MEMBERS_FORMS).map((item: any, index: any) => (\r\n              <Option key={index} value={item}>\r\n                {MEMBERS_FORMS[item]}\r\n              </Option>\r\n            ))}\r\n          </Select>\r\n        </Form.Item>\r\n\r\n        {!memberForm\r\n          ? null\r\n          : memberForm === MemberFormEnum.legal\r\n          ? legalForm\r\n          : manForm}\r\n\r\n        {/* <Form.Item\r\n          name=\"firstname\"\r\n          label=\"Имя\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"Please input the title of collection!\",\r\n            },\r\n          ]}\r\n        >\r\n          <Input />\r\n        </Form.Item>\r\n        <Form.Item\r\n          name=\"lastname\"\r\n          label=\"Отчество\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"Please input the title of collection!\",\r\n            },\r\n          ]}\r\n        >\r\n          <Input />\r\n        </Form.Item>\r\n        <Form.Item\r\n          name=\"sirname\"\r\n          label=\"Фамилия\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"Please input the title of collection!\",\r\n            },\r\n          ]}\r\n        >\r\n          <Input />\r\n        </Form.Item>\r\n        <Form.Item\r\n          name=\"passport\"\r\n          label=\"Паспортные данные\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"Please input the title of collection!\",\r\n            },\r\n          ]}\r\n        >\r\n          <Input />\r\n        </Form.Item>\r\n        <Form.Item\r\n          name=\"type\"\r\n          label=\"Роль участника\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"Please input the title of collection!\",\r\n            },\r\n          ]}\r\n        >\r\n          <Select\r\n            mode=\"multiple\"\r\n            allowClear\r\n            style={{ width: \"100%\" }}\r\n            // placeholder=\"Please select\"\r\n            // defaultValue={[\"a10\", \"c12\"]}\r\n            onChange={handleChangeMemberType}\r\n          >\r\n            {MEMBER_TYPES.map((member_type) => (\r\n              <Option key={member_type.en}>{member_type.ru}</Option>\r\n            ))}\r\n          </Select>\r\n        </Form.Item>\r\n        {isOwner && (\r\n          <Form.Item\r\n            name=\"part\"\r\n            label=\"Доля в компании, %\"\r\n            rules={[\r\n              {\r\n                required: true,\r\n                message: \"Please input the title of collection!\",\r\n              },\r\n            ]}\r\n          >\r\n            <InputNumber min={0} max={100} />\r\n          </Form.Item>\r\n        )} */}\r\n      </Form>\r\n    </Modal>\r\n  );\r\n});\r\n","import { useModal } from \"@ebay/nice-modal-react\";\r\nimport { Alert, Button, Card, Tag } from \"antd\";\r\nimport MemberForm from \"entities/member/MemberForm\";\r\nimport { IMember, MemberFormEnum, MEMBERS_TYPES } from \"entities/member/types\";\r\nimport { useStore } from \"entities/store\";\r\nimport { FC, useCallback } from \"react\";\r\n\r\ninterface IProps {\r\n  members: IMember[];\r\n  company_id: string;\r\n}\r\n\r\nexport const MembersBlock: FC<IProps> = ({ members, company_id }) => {\r\n  console.log(\"🚀 ~ file: index.tsx ~ line 14 ~ members\", members)\r\n  const userModal = useModal(MemberForm);\r\n  const { addMember, changeMember } = useStore((state) => state);\r\n\r\n  const handleNewItem = useCallback(() => {\r\n    userModal.show().then((newMember: any) => {\r\n      addMember({ ...newMember, company_id });\r\n    });\r\n  }, [userModal, members]);\r\n\r\n  const handleChangeItem = useCallback(\r\n    (member: any) => {\r\n      userModal.show({ member }).then((newMember: any) => {\r\n        changeMember({...newMember, id: member.id});\r\n      });\r\n    },\r\n    [userModal, members]\r\n  );\r\n\r\n  const commonPart = members.reduce((acc, cur) => acc + +cur.part!, 0);\r\n\r\n  // if (commonPart !== 100) {\r\n  //   return (\r\n  //     <Alert\r\n  //       message=\"Общая доля участников не равна 100%. Проверьте доли участников компании.\"\r\n  //       type=\"warning\"\r\n  //       // closable\r\n  //       // onClose={onClose}\r\n  //     />\r\n  //   );\r\n  // }\r\n\r\n  return (\r\n    <div>\r\n      <Button type=\"primary\" onClick={handleNewItem}>\r\n        + Добавить участника\r\n      </Button>\r\n      <div className=\"cards\">\r\n        {commonPart !== 100 && (\r\n          <Alert\r\n            message=\"Общая доля участников не равна 100%. Проверьте доли участников компании.\"\r\n            type=\"warning\"\r\n            // closable\r\n            // onClose={onClose}\r\n          />\r\n        )}\r\n        {members.map((member) => {\r\n\r\n          const name = member.form === MemberFormEnum.legal ? 'ООО ' + member.company_name : `${member.sirname} ${member.firstname} ${member.lastname}`\r\n\r\n          return (\r\n            <Card\r\n              hoverable\r\n              // title={`${member.sirname} ${member.firstname} ${member.lastname}`}\r\n              title={name}\r\n              key={member.id}\r\n              onClick={() => handleChangeItem(member)}\r\n            >\r\n              <div>\r\n                {member.type &&\r\n                  member.type.map((item, index) => (\r\n                    <Tag key={index} color=\"green\">\r\n                      {MEMBERS_TYPES[item]}\r\n                    </Tag>\r\n                  ))}\r\n              </div>\r\n              <div>Паспорт: {member.passport}</div>\r\n              {member.part && <div>Доля в компании: {member.part}%</div>}\r\n            </Card>\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import NiceModal, { useModal, antdModal } from \"@ebay/nice-modal-react\";\r\nimport { Form, Input, Modal } from \"antd\";\r\nimport { useCallback } from \"react\";\r\nimport { IMeeting } from \"./types\";\r\n\r\nexport default NiceModal.create((\r\n  {meeting}: {meeting: IMeeting}\r\n  ) => {\r\n  const modal = useModal();\r\n  const [form] = Form.useForm();\r\n\r\n  const handleSubmit = useCallback(() => {\r\n    form.validateFields().then(() => {\r\n      const newCompany = { ...form.getFieldsValue() };\r\n      modal.resolve(newCompany);\r\n      modal.hide();\r\n    });\r\n  }, [\r\n    modal,\r\n    // user,\r\n    form,\r\n  ]);\r\n  return (\r\n    <Modal\r\n      {...antdModal(modal)}\r\n      title=\"Создать собрание\"\r\n      //   okText={user ? \"Update\" : \"Create\"}\r\n      okText=\"Сохранить\"\r\n      cancelText=\"Отмена\"\r\n      onOk={handleSubmit}    \r\n    >\r\n      <Form form={form} layout='vertical'>\r\n        <Form.Item\r\n          name=\"name\"\r\n          label=\"Условное название собрания\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"Please input the title of collection!\",\r\n            },\r\n          ]}\r\n        >\r\n          <Input />\r\n        </Form.Item>        \r\n      </Form>\r\n    </Modal>\r\n  );\r\n});","import { useModal } from \"@ebay/nice-modal-react\";\r\nimport { Button, Card } from \"antd\";\r\nimport MeetingForm from \"entities/meeting/form\";\r\nimport { IMeeting, MEETING_TYPES, MEETING_TYPES_OF_CAUSE } from \"entities/meeting/types\";\r\nimport { useStore } from \"entities/store\";\r\nimport moment from \"moment\";\r\nimport { FC, useCallback } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\ninterface IProps {\r\n  meetings: any[];\r\n  company_id: string;\r\n}\r\n\r\nexport const MeetingsBlock: FC<IProps> = ({ meetings, company_id }) => {\r\n  const userModal = useModal(MeetingForm);\r\n  const { addMeeting } = useStore((state) => state);\r\n\r\n  const history = useNavigate();\r\n\r\n  const handleNewItem = useCallback(() => {\r\n    userModal.show().then((newItem: any) => {\r\n      addMeeting(company_id, newItem.name!);\r\n    });\r\n  }, [userModal, meetings]);\r\n\r\n  const clickHandler = (id: string) => {\r\n    // setCurrentMeeting(id);\r\n    history(\"/meetings/\" + id);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Button type=\"primary\" onClick={handleNewItem}>\r\n        + Добавить собрание\r\n      </Button>\r\n      <div className=\"cards\">\r\n        {meetings.map((meeting) => {\r\n          return (\r\n            <Card\r\n              hoverable\r\n              key={meeting.id}\r\n              title={meeting.name}\r\n              onClick={() => clickHandler(meeting.id)}\r\n            >  \r\n              <div>{meeting.date_of_meeting}</div>          \r\n              <div>{MEETING_TYPES_OF_CAUSE[meeting.type_of_cause]}</div>\r\n              <div>{MEETING_TYPES[meeting.type]}</div>\r\n            </Card>\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import { FC, useEffect } from \"react\";\r\nimport { Breadcrumb, PageHeader, Tabs } from \"antd\";\r\nimport { NavLink, useParams } from \"react-router-dom\";\r\n\r\nimport { RequisitiesBlock } from \"./blocks/requisites\";\r\nimport { useStore } from \"entities/store\";\r\nimport { MembersBlock } from \"./blocks/members\";\r\nimport { MeetingsBlock } from \"./blocks/meetings\";\r\n\r\nconst { TabPane } = Tabs;\r\n\r\nconst CompaniesDetailsPage: FC = () => {\r\n  const { id } = useParams();\r\n\r\n  const { company, getCompany } = useStore((state) => state);\r\n\r\n  useEffect(() => {\r\n    if (id) {\r\n      getCompany(id);\r\n    }\r\n  }, [id]);\r\n\r\n  if (!company) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Breadcrumb>\r\n        <Breadcrumb.Item>\r\n          <NavLink to=\"/companies\">Главная</NavLink>\r\n          {/* <a href=\"/\">Главная</a> */}\r\n        </Breadcrumb.Item>\r\n        <Breadcrumb.Item>\r\n          <NavLink to=\"/companies\">Компании</NavLink>\r\n          {/* <a href=\"/companies\">Компании</a> */}\r\n        </Breadcrumb.Item>\r\n      </Breadcrumb>\r\n      <div className=\"header\">\r\n        <h1>{\"ООО \" + company.requisites.name}</h1>\r\n      </div>\r\n      <Tabs\r\n        defaultActiveKey=\"1\"\r\n        //   onChange={onChange}\r\n      >\r\n        <TabPane tab=\"Реквизиты\" key=\"1\">\r\n          <RequisitiesBlock requisites={company.requisites} />\r\n        </TabPane>\r\n        <TabPane tab=\"Лица\" key=\"2\">\r\n          <MembersBlock members={company.members} company_id={company.id} />\r\n        </TabPane>\r\n        <TabPane tab=\"Собрания\" key=\"3\">\r\n          <MeetingsBlock meetings={company.meetings} company_id={company.id} />\r\n        </TabPane>\r\n      </Tabs>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CompaniesDetailsPage;\r\n"],"names":["MeetingTypeOfСauseEnum","MeetingTypeEnum","MEETING_TYPES_OF_CAUSE","year","extra","MEETING_TYPES","ochno","MemberFormEnum","MemberTypeEnum","MEMBERS_FORMS","legal","man","director","owner","MEMBERS_TYPES","employee","DADATA_API","getCompany","query","axios","headers","Accept","Authorization","options","result","data","suggestions","map","item","inn","name","value","console","log","RequisitiesBlock","requisites","useState","isActiveForm","setIsActiveForm","Form","form","activeHandler","disabled","layout","initialValues","label","rules","required","message","type","onClick","Option","Select","NiceModal","member","includes","memberForm","setMemberForm","setOptions","modal","useModal","handleSubmit","useCallback","validateFields","then","newMember","getFieldsValue","resolve","hide","onSearch","newOptions","manForm","min","max","legalForm","showSearch","filterOption","option","style","color","fontSize","antdModal","title","onOk","okText","cancelText","allowClear","width","onChange","Object","keys","index","MembersBlock","members","company_id","userModal","MemberForm","useStore","state","addMember","changeMember","handleNewItem","show","handleChangeItem","id","commonPart","reduce","acc","cur","part","className","company_name","sirname","firstname","lastname","hoverable","passport","meeting","newCompany","MeetingsBlock","meetings","MeetingForm","addMeeting","history","useNavigate","newItem","date_of_meeting","type_of_cause","TabPane","Tabs","useParams","company","useEffect","to","defaultActiveKey","tab"],"sourceRoot":""}