"use strict";(self.webpackChunklegal=self.webpackChunklegal||[]).push([[18],{4834:function(e,n,t){t.d(n,{LA:function(){return o},yo:function(){return u}});var r,a,i,s=t(4942);!function(e){e.year="year",e.extra="extra"}(i||(i={}));var c,u=(r={},(0,s.Z)(r,i.year,"\u0433\u043e\u0434\u043e\u0432\u043e\u0435"),(0,s.Z)(r,i.extra,"\u0432\u043d\u0435\u043e\u0447\u0435\u0440\u0435\u0434\u043d\u043e\u0435"),r);!function(e){e.ochno="ochno",e.zaochno="zaochno",e.ochnozaochno="ochnozaochno"}(c||(c={}));var o=(a={},(0,s.Z)(a,c.ochno,"\u043e\u0447\u043d\u043e\u0435"),(0,s.Z)(a,c.zaochno,"\u0437\u0430\u043e\u0447\u043d\u043e\u0435"),(0,s.Z)(a,c.ochnozaochno,"\u043e\u0447\u043d\u043e-\u0437\u0430\u043e\u0447\u043d\u043e\u0435"),a)},3583:function(e,n,t){t.d(n,{Ho:function(){return c},OM:function(){return s},eQ:function(){return a}});var r,a,i=t(4942);!function(e){e.owner="owner",e.director="director",e.employee="employee"}(a||(a={}));var s=[{en:a.director,ru:"\u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440"},{en:a.owner,ru:"\u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u0438\u043a"}],c=(r={},(0,i.Z)(r,a.director,"\u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440"),(0,i.Z)(r,a.owner,"\u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u0438\u043a"),(0,i.Z)(r,a.employee,"\u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a"),r)},6750:function(e,n,t){t.d(n,{o:function(){return b}});var r=t(4942),a=t(1413),i=t(3433),s=t(4165),c=t(5861),u=t(1663),o=t(2426),l=t.n(o),f=t(8098),d=function(){return(0,c.Z)((0,s.Z)().mark((function e(){var n,t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.h.get("/companies");case 2:return n=e.sent,t=n.data,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))()},m=function(e){return(0,c.Z)((0,s.Z)().mark((function n(){var t,r;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f.h.post("/companies",e);case 2:return t=n.sent,r=t.data,n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})))()},p=function(e){return(0,c.Z)((0,s.Z)().mark((function n(){var t,r;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f.h.get("/companies/"+e);case 2:return t=n.sent,r=t.data,n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})))()},Z=function(e){return(0,c.Z)((0,s.Z)().mark((function n(){var t,r;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f.h.post("/members/",e);case 2:return t=n.sent,r=t.data,n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})))()},h=function(e){return(0,c.Z)((0,s.Z)().mark((function n(){var t,r;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f.h.get("/meetings/"+e);case 2:return t=n.sent,r=t.data,n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})))()},x=function(e,n){return(0,c.Z)((0,s.Z)().mark((function t(){var r,a;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.h.post("/meetings/",{company_id:e,name:n});case 2:return r=t.sent,a=r.data,t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})))()},v=function(e){return(0,c.Z)((0,s.Z)().mark((function n(){var t,r;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f.h.put("/meetings/",e);case 2:return t=n.sent,r=t.data,n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})))()},g=function(e){return(0,c.Z)((0,s.Z)().mark((function n(){var t,r;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f.h.post("/questions/",e);case 2:return t=n.sent,r=t.data,n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})))()},j=function(e){return(0,c.Z)((0,s.Z)().mark((function n(){var t,r;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f.h.post("/answers/",e);case 2:return t=n.sent,r=t.data,n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})))()},w=t(9202),y=function(e){return(0,c.Z)((0,s.Z)().mark((function n(){var t,r;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f.h.get("/catalogs/"+e);case 2:return t=n.sent,r=t.data,n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})))()},b=(0,u.ZP)()((function(e){return{companies:[],company:{id:"",requisites:{name:"",inn:"",kpp:"",address:""},members:[],meetings:[]},getCompanies:function(){var n=(0,c.Z)((0,s.Z)().mark((function n(){var t;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d();case 2:t=n.sent,e({companies:t});case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),addCompany:function(){var n=(0,c.Z)((0,s.Z)().mark((function n(t){var r;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,m(t);case 2:r=n.sent,e((function(e){return{companies:[].concat((0,i.Z)(e.companies),[r])}}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),getCompany:function(){var n=(0,c.Z)((0,s.Z)().mark((function n(t){var r;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,p(t);case 2:r=n.sent,e({company:r});case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),addMember:function(){var n=(0,c.Z)((0,s.Z)().mark((function n(t){return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Z(t);case 2:n.sent,e((function(e){return{company:(0,a.Z)((0,a.Z)({},e.company),{},{members:[].concat((0,i.Z)(e.company.members),[t])})}}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),meeting:{id:"",name:"",info:{name:""},questions:[],answers:[]},getMeeting:function(){var n=(0,c.Z)((0,s.Z)().mark((function n(t){var r;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,h(t);case 2:r=n.sent,e({meeting:(0,a.Z)((0,a.Z)({},r),{},{info:(0,a.Z)((0,a.Z)({},r.info),{},{date_of_meeting:r.info.date_of_meeting&&l()(r.info.date_of_meeting,w.J),date_of_registration:r.info.date_of_registration&&l()(r.info.date_of_registration,w.J)})})});case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),addMeeting:function(){var n=(0,c.Z)((0,s.Z)().mark((function n(t,r){var c;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,x(t,r);case 2:c=n.sent,e((function(e){return{company:(0,a.Z)((0,a.Z)({},e.company),{},{meetings:[].concat((0,i.Z)(e.company.meetings),[c])})}}));case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),changeMeetingInfo:function(){var n=(0,c.Z)((0,s.Z)().mark((function n(t){return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,v(t);case 2:n.sent,e((function(e){return{meeting:(0,a.Z)((0,a.Z)({},e.meeting),{},{info:(0,a.Z)((0,a.Z)({},e.meeting.info),{},{meetingInfo:t})})}}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),addQuesion:function(){var n=(0,c.Z)((0,s.Z)().mark((function n(t){var r;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,g(t);case 2:r=n.sent,e((function(e){return{meeting:(0,a.Z)((0,a.Z)({},e.meeting),{},{questions:[].concat((0,i.Z)(e.meeting.questions),[r])})}}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),addAnswer:function(){var n=(0,c.Z)((0,s.Z)().mark((function n(t){var r;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,j(t);case 2:r=n.sent,e((function(e){return{meeting:(0,a.Z)((0,a.Z)({},e.meeting),{},{answers:[].concat((0,i.Z)(e.meeting.answers),(0,i.Z)(r))})}}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),catalogs:{},getGatalog:function(){var n=(0,c.Z)((0,s.Z)().mark((function n(t){var i;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,y(t);case 2:i=n.sent,e((function(e){return{catalogs:(0,a.Z)((0,a.Z)({},e.catalogs),{},(0,r.Z)({},t,i))}}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}}))},9202:function(e,n,t){t.d(n,{J:function(){return r},y:function(){return a}});var r="YYYY-MM-DDTHH:mm",a="DD.MM.YYYY HH:mm"},5018:function(e,n,t){t.r(n),t.d(n,{default:function(){return T}});var r=t(141),a=t(1966),i=t(2791),s=t(9439),c=t(7947),u=t(8678),o=t(7309),l=t(184),f=function(e){var n=e.requisites;console.log("\ud83d\ude80 ~ file: index.tsx ~ line 21 ~ requisites",n);var t=(0,i.useState)(!0),r=(0,s.Z)(t,2),a=r[0],f=r[1],d=c.Z.useForm(),m=(0,s.Z)(d,1)[0],p=function(){f(!a)};return n.inn?(0,l.jsxs)("div",{children:[(0,l.jsxs)(c.Z,{form:m,disabled:a,layout:"vertical",initialValues:n,children:[(0,l.jsx)(c.Z.Item,{name:"name",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",rules:[{required:!0,message:"Please input the title of collection!"}],children:(0,l.jsx)(u.Z,{})}),(0,l.jsx)(c.Z.Item,{name:"inn",label:"\u0418\u041d\u041d",rules:[{required:!0,message:"Please input the title of collection!"}],children:(0,l.jsx)(u.Z,{})}),(0,l.jsx)(c.Z.Item,{name:"kpp",label:"\u041a\u041f\u041f",rules:[{required:!0,message:"Please input the title of collection!"}],children:(0,l.jsx)(u.Z,{})}),(0,l.jsx)(c.Z.Item,{name:"ogrn",label:"\u041e\u0413\u0420\u041d",rules:[{required:!0,message:"Please input the title of collection!"}],children:(0,l.jsx)(u.Z,{})}),(0,l.jsx)(c.Z.Item,{name:"address",label:"\u042e\u0440\u0438\u0434\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0430\u0434\u0440\u0435\u0441",rules:[{required:!0,message:"Please input the title of collection!"}],children:(0,l.jsx)(u.Z,{})})]}),a?(0,l.jsx)(o.Z,{type:"primary",onClick:p,children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"}):(0,l.jsx)(o.Z,{type:"primary",onClick:p,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]}):null},d=t(6750),m=t(1413),p=t(8111),Z=t(3441),h=t(2730),x=t(7528),v=t(3430),g=t(3335),j=t(3344),w=t(3583),y=v.Z.Option,b=p.ZP.create((function(e){var n=e.member,t=(0,i.useState)(!1),r=(0,s.Z)(t,2),a=r[0],o=r[1],f=(0,p.dd)(),d=c.Z.useForm(),Z=(0,s.Z)(d,1)[0],h=(0,i.useCallback)((function(){Z.validateFields().then((function(){var e=(0,m.Z)({},Z.getFieldsValue());f.resolve(e),f.hide()}))}),[f,Z]);return(0,l.jsx)(g.Z,(0,m.Z)((0,m.Z)({},(0,p.Tr)(f)),{},{title:"\u041b\u0438\u0446\u043e",onOk:h,okText:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",cancelText:"\u041e\u0442\u043c\u0435\u043d\u0430",children:(0,l.jsxs)(c.Z,{form:Z,initialValues:n,layout:"vertical",children:[(0,l.jsx)(c.Z.Item,{name:"firstname",label:"\u0418\u043c\u044f",rules:[{required:!0,message:"Please input the title of collection!"}],children:(0,l.jsx)(u.Z,{})}),(0,l.jsx)(c.Z.Item,{name:"lastname",label:"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e",rules:[{required:!0,message:"Please input the title of collection!"}],children:(0,l.jsx)(u.Z,{})}),(0,l.jsx)(c.Z.Item,{name:"sirname",label:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",rules:[{required:!0,message:"Please input the title of collection!"}],children:(0,l.jsx)(u.Z,{})}),(0,l.jsx)(c.Z.Item,{name:"passport",label:"\u041f\u0430\u0441\u043f\u043e\u0440\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435",rules:[{required:!0,message:"Please input the title of collection!"}],children:(0,l.jsx)(u.Z,{})}),(0,l.jsx)(c.Z.Item,{name:"type",label:"\u0420\u043e\u043b\u044c \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0430",rules:[{required:!0,message:"Please input the title of collection!"}],children:(0,l.jsx)(v.Z,{mode:"multiple",allowClear:!0,style:{width:"100%"},onChange:function(e){e.includes(w.eQ.owner)?o(!0):o(!1)},children:w.OM.map((function(e){return(0,l.jsx)(y,{children:e.ru},e.en)}))})}),a&&(0,l.jsx)(c.Z.Item,{name:"part",label:"\u0414\u043e\u043b\u044f \u0432 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438, %",rules:[{required:!0,message:"Please input the title of collection!"}],children:(0,l.jsx)(j.Z,{min:0,max:100})})]})}))})),k=function(e){var n=e.members,t=e.company_id,r=(0,p.dd)(b),a=(0,d.o)((function(e){return e})).addMember,s=(0,i.useCallback)((function(){r.show().then((function(e){a((0,m.Z)((0,m.Z)({},e),{},{company_id:t}))}))}),[r,n]),c=(0,i.useCallback)((function(e){r.show({member:e}).then((function(e){}))}),[r,n]),u=n.reduce((function(e,n){return e+ +n.part}),0);return(0,l.jsxs)("div",{children:[(0,l.jsx)(o.Z,{type:"primary",onClick:s,children:"+ \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0430"}),(0,l.jsxs)("div",{className:"cards",children:[100!==u&&(0,l.jsx)(Z.Z,{message:"\u041e\u0431\u0449\u0430\u044f \u0434\u043e\u043b\u044f \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u043e\u0432 \u043d\u0435 \u0440\u0430\u0432\u043d\u0430 100%. \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0434\u043e\u043b\u0438 \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u043e\u0432 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438.",type:"warning"}),n.map((function(e){return(0,l.jsxs)(h.Z,{hoverable:!0,title:"".concat(e.sirname," ").concat(e.firstname," ").concat(e.lastname),onClick:function(){return c(e)},children:[(0,l.jsx)("div",{children:e.type.map((function(e,n){return(0,l.jsx)(x.Z,{color:"green",children:w.Ho[e]},n)}))}),(0,l.jsxs)("div",{children:["\u041f\u0430\u0441\u043f\u043e\u0440\u0442: ",e.passport]}),e.part&&(0,l.jsxs)("div",{children:["\u0414\u043e\u043b\u044f \u0432 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438: ",e.part,"%"]})]},e.id)}))]})]})},q=p.ZP.create((function(e){e.meeting;var n=(0,p.dd)(),t=c.Z.useForm(),r=(0,s.Z)(t,1)[0],a=(0,i.useCallback)((function(){r.validateFields().then((function(){var e=(0,m.Z)({},r.getFieldsValue());n.resolve(e),n.hide()}))}),[n,r]);return(0,l.jsx)(g.Z,(0,m.Z)((0,m.Z)({},(0,p.Tr)(n)),{},{title:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0441\u043e\u0431\u0440\u0430\u043d\u0438\u0435",okText:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",cancelText:"\u041e\u0442\u043c\u0435\u043d\u0430",onOk:a,children:(0,l.jsx)(c.Z,{form:r,layout:"vertical",children:(0,l.jsx)(c.Z.Item,{name:"name",label:"\u0423\u0441\u043b\u043e\u0432\u043d\u043e\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u043e\u0431\u0440\u0430\u043d\u0438\u044f",rules:[{required:!0,message:"Please input the title of collection!"}],children:(0,l.jsx)(u.Z,{})})})}))})),_=t(4834),C=t(2426),I=t.n(C),P=t(6871),M=function(e){var n=e.meetings,t=e.company_id,r=(0,p.dd)(q),a=(0,d.o)((function(e){return e})).addMeeting,s=(0,P.s0)(),c=(0,i.useCallback)((function(){r.show().then((function(e){a(t,e.name)}))}),[r,n]);return(0,l.jsxs)("div",{children:[(0,l.jsx)(o.Z,{type:"primary",onClick:c,children:"+ \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u0431\u0440\u0430\u043d\u0438\u0435"}),(0,l.jsx)("div",{className:"cards",children:n.map((function(e){return(0,l.jsxs)(h.Z,{hoverable:!0,title:e.name,onClick:function(){return n=e.id,void s("/meetings/"+n);var n},children:[(0,l.jsx)("div",{children:I()(e.date_of_meeting).format("DD.MM.YYYY")}),(0,l.jsx)("div",{children:_.yo[e.type_of_cause]}),(0,l.jsx)("div",{children:_.LA[e.type]})]},e.id)}))})]})},Y=r.Z.TabPane,T=function(){var e=(0,P.UO)().id,n=(0,d.o)((function(e){return e})),t=n.company,s=n.getCompany;return(0,i.useEffect)((function(){e&&s(e)}),[e]),t?(0,l.jsxs)("div",{children:[(0,l.jsxs)(a.Z,{children:[(0,l.jsx)(a.Z.Item,{children:(0,l.jsx)("a",{href:"/",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"})}),(0,l.jsx)(a.Z.Item,{children:(0,l.jsx)("a",{href:"/companies",children:"\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u0438"})})]}),(0,l.jsx)("div",{className:"header",children:(0,l.jsx)("h1",{children:"\u041e\u041e\u041e "+t.requisites.name})}),(0,l.jsxs)(r.Z,{defaultActiveKey:"1",children:[(0,l.jsx)(Y,{tab:"\u0420\u0435\u043a\u0432\u0438\u0437\u0438\u0442\u044b",children:(0,l.jsx)(f,{requisites:t.requisites})},"1"),(0,l.jsx)(Y,{tab:"\u041b\u0438\u0446\u0430",children:(0,l.jsx)(k,{members:t.members,company_id:t.id})},"2"),(0,l.jsx)(Y,{tab:"\u0421\u043e\u0431\u0440\u0430\u043d\u0438\u044f",children:(0,l.jsx)(M,{meetings:t.meetings,company_id:t.id})},"3")]})]}):null}},8098:function(e,n,t){t.d(n,{h:function(){return i},v:function(){return a}});var r=t(4569),a="http://82.146.40.11:5022/api",i=t.n(r)().create({baseURL:a,headers:{"Content-type":"application/json"}})}}]);
//# sourceMappingURL=18.a6bc1323.chunk.js.map