"use strict";(self.webpackChunklegal=self.webpackChunklegal||[]).push([[771],{6750:function(n,e,t){t.d(e,{o:function(){return b}});var r=t(4942),a=t(1413),c=t(3433),u=t(4165),s=t(5861),o=t(1663),i=t(2426),p=t.n(i),f=t(8098),Z=function(){return(0,s.Z)((0,u.Z)().mark((function n(){var e,t;return(0,u.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f.h.get("/companies");case 2:return e=n.sent,t=e.data,n.abrupt("return",t);case 5:case"end":return n.stop()}}),n)})))()},m=function(n){return(0,s.Z)((0,u.Z)().mark((function e(){var t,r;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.h.post("/companies",n);case 2:return t=e.sent,r=t.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))()},d=function(n){return(0,s.Z)((0,u.Z)().mark((function e(){var t,r;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.h.get("/companies/"+n);case 2:return t=e.sent,r=t.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))()},h=function(n){return(0,s.Z)((0,u.Z)().mark((function e(){var t,r;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.h.post("/members/",n);case 2:return t=e.sent,r=t.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))()},l=function(n){return(0,s.Z)((0,u.Z)().mark((function e(){var t,r;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.h.get("/meetings/"+n);case 2:return t=e.sent,r=t.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))()},v=function(n,e){return(0,s.Z)((0,u.Z)().mark((function t(){var r,a;return(0,u.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.h.post("/meetings/",{company_id:n,name:e});case 2:return r=t.sent,a=r.data,t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})))()},x=function(n){return(0,s.Z)((0,u.Z)().mark((function e(){var t,r;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.h.put("/meetings/",n);case 2:return t=e.sent,r=t.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))()},g=function(n){return(0,s.Z)((0,u.Z)().mark((function e(){var t,r;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.h.post("/questions/",n);case 2:return t=e.sent,r=t.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))()},w=function(n){return(0,s.Z)((0,u.Z)().mark((function e(){var t,r;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.h.post("/answers/",n);case 2:return t=e.sent,r=t.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))()},y=t(9202),k=function(n){return(0,s.Z)((0,u.Z)().mark((function e(){var t,r;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.h.get("/catalogs/"+n);case 2:return t=e.sent,r=t.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))()},b=(0,o.ZP)()((function(n){return{companies:[],company:{id:"",requisites:{name:"",inn:"",kpp:"",address:""},members:[],meetings:[]},getCompanies:function(){var e=(0,s.Z)((0,u.Z)().mark((function e(){var t;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z();case 2:t=e.sent,n({companies:t});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),addCompany:function(){var e=(0,s.Z)((0,u.Z)().mark((function e(t){var r;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(t);case 2:r=e.sent,n((function(n){return{companies:[].concat((0,c.Z)(n.companies),[r])}}));case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),getCompany:function(){var e=(0,s.Z)((0,u.Z)().mark((function e(t){var r;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(t);case 2:r=e.sent,n({company:r});case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),addMember:function(){var e=(0,s.Z)((0,u.Z)().mark((function e(t){return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(t);case 2:e.sent,n((function(n){return{company:(0,a.Z)((0,a.Z)({},n.company),{},{members:[].concat((0,c.Z)(n.company.members),[t])})}}));case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),meeting:{id:"",name:"",info:{name:""},questions:[],answers:[]},getMeeting:function(){var e=(0,s.Z)((0,u.Z)().mark((function e(t){var r;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(t);case 2:r=e.sent,n({meeting:(0,a.Z)((0,a.Z)({},r),{},{info:(0,a.Z)((0,a.Z)({},r.info),{},{date_of_meeting:r.info.date_of_meeting&&p()(r.info.date_of_meeting,y.J),date_of_registration:r.info.date_of_registration&&p()(r.info.date_of_registration,y.J)})})});case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),addMeeting:function(){var e=(0,s.Z)((0,u.Z)().mark((function e(t,r){var s;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t,r);case 2:s=e.sent,n((function(n){return{company:(0,a.Z)((0,a.Z)({},n.company),{},{meetings:[].concat((0,c.Z)(n.company.meetings),[s])})}}));case 4:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),changeMeetingInfo:function(){var e=(0,s.Z)((0,u.Z)().mark((function e(t){return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(t);case 2:e.sent,n((function(n){return{meeting:(0,a.Z)((0,a.Z)({},n.meeting),{},{info:(0,a.Z)((0,a.Z)({},n.meeting.info),{},{meetingInfo:t})})}}));case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),addQuesion:function(){var e=(0,s.Z)((0,u.Z)().mark((function e(t){var r;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(t);case 2:r=e.sent,n((function(n){return{meeting:(0,a.Z)((0,a.Z)({},n.meeting),{},{questions:[].concat((0,c.Z)(n.meeting.questions),[r])})}}));case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),addAnswer:function(){var e=(0,s.Z)((0,u.Z)().mark((function e(t){var r;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(t);case 2:r=e.sent,n((function(n){return{meeting:(0,a.Z)((0,a.Z)({},n.meeting),{},{answers:[].concat((0,c.Z)(n.meeting.answers),(0,c.Z)(r))})}}));case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),catalogs:{},getGatalog:function(){var e=(0,s.Z)((0,u.Z)().mark((function e(t){var c;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(t);case 2:c=e.sent,n((function(n){return{catalogs:(0,a.Z)((0,a.Z)({},n.catalogs),{},(0,r.Z)({},t,c))}}));case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}}))},9202:function(n,e,t){t.d(e,{J:function(){return r},y:function(){return a}});var r="YYYY-MM-DDTHH:mm",a="DD.MM.YYYY HH:mm"},4771:function(n,e,t){t.r(e),t.d(e,{default:function(){return k}});var r=t(2791),a=t(7309),c=t(2730),u=t(8111),s=t(1413),o=t(4165),i=t(5861),p=t(9439),f=t(3430),Z=t(7947),m=t(3335),d=t(4569),h=t.n(d),l=function(n){return(0,i.Z)((0,o.Z)().mark((function e(){var t,r;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h().post("https://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/party",{query:n},{headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Token f72f5381ea6760b06b1034d298d2c9bce5824346"}});case 3:return t=e.sent,r=t.data.suggestions.map((function(n){return{inn:n.data.inn,name:n.value}})),console.log("\ud83d\ude80 ~ file: dadata.ts ~ line 19 ~ getCompany ~ result",r),e.abrupt("return",r);case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})))()},v=t(184),x=f.Z.Option,g=u.ZP.create((function(n){n.company;var e=(0,r.useState)([]),t=(0,p.Z)(e,2),a=t[0],c=t[1],d=(0,u.dd)(),h=Z.Z.useForm(),g=(0,p.Z)(h,1)[0],w=function(){var n=(0,i.Z)((0,o.Z)().mark((function n(e){var t;return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l(e);case 2:t=n.sent,c(t);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),y=(0,r.useCallback)((function(){g.validateFields().then((function(){var n=(0,s.Z)({},g.getFieldsValue());d.resolve(n),d.hide()}))}),[d,g]);return(0,v.jsx)(m.Z,(0,s.Z)((0,s.Z)({},(0,u.Tr)(d)),{},{title:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044e",okText:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",cancelText:"\u041e\u0442\u043c\u0435\u043d\u0430",onOk:y,children:(0,v.jsx)(Z.Z,{form:g,layout:"vertical",children:(0,v.jsx)(Z.Z.Item,{name:"inn",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0438\u043b\u0438 \u0418\u041d\u041d \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438",rules:[{required:!0,message:"Please input the title of collection!"}],children:(0,v.jsx)(f.Z,{showSearch:!0,filterOption:!1,onSearch:w,children:a.map((function(n){return(0,v.jsxs)(x,{value:n.inn,children:[(0,v.jsxs)("span",{children:[n.name," "]}),(0,v.jsx)("span",{style:{color:"gray",fontSize:"10px"},children:n.inn})]})}))})})})}))})),w=t(6871),y=t(6750),k=function(){var n=(0,w.s0)(),e=(0,y.o)((function(n){return n})),t=e.companies,s=e.addCompany,o=e.getCompanies,i=(0,u.dd)(g),p=(0,r.useCallback)((function(){i.show().then((function(n){s(n)}))}),[i,t]);return(0,r.useEffect)((function(){o()}),[]),(0,v.jsxs)("div",{children:[(0,v.jsx)("h1",{children:"\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u0438"}),(0,v.jsx)(a.Z,{type:"primary",onClick:p,children:"+ \u041d\u043e\u0432\u0430\u044f \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044f"}),(0,v.jsx)("div",{className:"cards",children:t.map((function(e){return(0,v.jsx)(c.Z,{hoverable:!0,title:"\u041e\u041e\u041e "+e.name,onClick:function(){return t=e.id,void n("/companies/"+t);var t},children:e.inn},e.id)}))})]})}},8098:function(n,e,t){t.d(e,{h:function(){return c},v:function(){return a}});var r=t(4569),a="http://localhost:5022/api",c=t.n(r)().create({baseURL:a,headers:{"Content-type":"application/json"}})}}]);
//# sourceMappingURL=771.3bd2ef2d.chunk.js.map