"use strict";(self.webpackChunklegal=self.webpackChunklegal||[]).push([[76],{7076:function(e,t,n){n.r(t),n.d(t,{default:function(){return m}});n(4942);var a,r,s=n(4165),l=n(5861),i=n(9439),c=n(1413),u=n(2791);!function(e){e.paragraph="paragraph",e.array="array",e.single="single"}(a||(a={})),function(e){e.text="text",e.variable="variable"}(r||(r={}));var o=n(8098),p=function(e){return(0,l.Z)((0,s.Z)().mark((function t(){var n,a;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.h.get("/templates/"+e);case 2:return n=t.sent,a=n.data,t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})))()},d=function(e,t){return(0,l.Z)((0,s.Z)().mark((function n(){var a,r;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.h.post("/templates/",{document_type:e,template:t});case 2:return a=n.sent,r=a.data,n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})))()},f=n(7309),h=n(184),x=function(e){var t={};return e&&Object.keys(e).length>0&&Object.keys(e).forEach((function(n){"alignment"===n&&(t=(0,c.Z)((0,c.Z)({},t),{},{textAlign:"both"===e.alignment?"justify":e.alignment})),"indent"===n&&(t=(0,c.Z)((0,c.Z)({},t),{},{textIndent:30})),"bold"===n&&(t=(0,c.Z)((0,c.Z)({},t),{},{fontWeight:"bold"})),"break"===n&&(t=(0,c.Z)((0,c.Z)({},t),{},{display:"block"}))})),t},m=function(){var e=(0,u.useState)([]),t=(0,i.Z)(e,2),n=t[0],c=t[1],o=(0,u.useState)(null),m=(0,i.Z)(o,2),g=m[0],y=m[1],v=(0,u.useState)(null),j=(0,i.Z)(v,2),Z=j[0],b=j[1];console.log("\ud83d\ude80 ~ file: index.tsx ~ line 51 ~ DocumentEditingPage ~ currentSpan",Z);var k=function(){var e=(0,l.Z)((0,s.Z)().mark((function e(){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p("notification");case 2:t=e.sent,c(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(e){console.log("\ud83d\ude80 ~ file: index.tsx ~ line 47 ~ clickHandler ~ e",e.target.parentElement),y(e.target.parentNode.style),b(e.target.style)};return(0,u.useEffect)((function(){k()}),[]),0===n.length?null:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:"template_styles",children:[(0,h.jsxs)("span",{className:"template_styles_item",children:[(0,h.jsx)("span",{children:"\u0412\u044b\u0440\u0430\u0432\u043d\u0438\u0432\u0430\u043d\u0438\u0435: "}),(0,h.jsx)("span",{children:g&&g.textAlign})]}),(0,h.jsxs)("span",{className:"template_styles_item",children:[(0,h.jsx)("span",{children:"\u041a\u0440\u0430\u0441\u043d\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430: "}),(0,h.jsx)("span",{children:g&&g.textIndent?"\u0414\u0430":"\u041d\u0435\u0442"})]}),(0,h.jsxs)("span",{className:"template_styles_item",children:[(0,h.jsx)("span",{children:"\u0416\u0438\u0440\u043d\u043e\u0442\u0430 \u0442\u0435\u043a\u0441\u0442\u0430: "}),(0,h.jsx)("span",{children:Z&&Z.fontWeight})]})]}),(0,h.jsx)("div",{className:"template_list",contentEditable:!0,onBlur:function(e){var t=Array.from(e.target.childNodes).map((function(e){return{value:e.innerText,style:e.attributes.style&&e.attributes.style.nodeValue}}));console.log("\ud83d\ude80 ~ file: index.tsx ~ line 106 ~ changeHandler ~ e",e.target,t)},suppressContentEditableWarning:!0,children:n.map((function(e,t){if(e.type===a.single)return e.value.map((function(e){var t=e.styles,n=x(t);return(0,h.jsx)("div",{style:n,onClick:N,children:e.value.map((function(e){return e.type===r.variable?(0,h.jsx)("span",{className:e.type,style:x(e.styles),contentEditable:!1,children:e.value}):(0,h.jsx)("span",{className:e.type,style:x(e.styles),children:e.value})}))})}))}))}),(0,h.jsx)("div",{children:(0,h.jsx)(f.Z,{onClick:function(){d("notification",JSON.stringify(n))},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]})}},8098:function(e,t,n){n.d(t,{h:function(){return s},v:function(){return r}});var a=n(4569),r="http://localhost:5022/api",s=n.n(a)().create({baseURL:r,headers:{"Content-type":"application/json"}})}}]);
//# sourceMappingURL=76.b16fe88a.chunk.js.map