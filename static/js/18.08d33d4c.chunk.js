"use strict";(self.webpackChunklegal=self.webpackChunklegal||[]).push([[18],{4834:function(e,n,t){t.d(n,{LA:function(){return u},yo:function(){return o}});var r,a,i,s=t(4942);!function(e){e.year="year",e.extra="extra"}(i||(i={}));var c,o=(r={},(0,s.Z)(r,i.year,"\u0433\u043e\u0434\u043e\u0432\u043e\u0435"),(0,s.Z)(r,i.extra,"\u0432\u043d\u0435\u043e\u0447\u0435\u0440\u0435\u0434\u043d\u043e\u0435"),r);!function(e){e.ochno="ochno",e.zaochno="zaochno",e.ochnozaochno="ochnozaochno"}(c||(c={}));var u=(a={},(0,s.Z)(a,c.ochno,"\u043e\u0447\u043d\u043e\u0435"),(0,s.Z)(a,c.zaochno,"\u0437\u0430\u043e\u0447\u043d\u043e\u0435"),(0,s.Z)(a,c.ochnozaochno,"\u043e\u0447\u043d\u043e-\u0437\u0430\u043e\u0447\u043d\u043e\u0435"),a)},3583:function(e,n,t){t.d(n,{Ho:function(){return c},OM:function(){return s},eQ:function(){return a}});var r,a,i=t(4942);!function(e){e.owner="owner",e.director="director",e.employee="employee"}(a||(a={}));var s=[{en:a.director,ru:"\u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440"},{en:a.owner,ru:"\u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u0438\u043a"}],c=(r={},(0,i.Z)(r,a.director,"\u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440"),(0,i.Z)(r,a.owner,"\u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u0438\u043a"),(0,i.Z)(r,a.employee,"\u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a"),r)},6750:function(e,n,t){t.d(n,{o:function(){return b}});var r=t(4942),a=t(1413),i=t(3433),s=t(4165),c=t(5861),o=t(1663),u=t(2426),l=t.n(u),f=t(8098),d=function(){return(0,c.Z)((0,s.Z)().mark((function e(){var n,t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.h.get("/companies");case 2:return n=e.sent,t=n.data,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))()},m=function(e){return(0,c.Z)((0,s.Z)().mark((function n(){var t,r;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f.h.post("/companies",e);case 2:return t=n.sent,r=t.data,n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})))()},p=function(e){return(0,c.Z)((0,s.Z)().mark((function n(){var t,r;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f.h.get("/companies/"+e);case 2:return t=n.sent,r=t.data,n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})))()},Z=function(e){return(0,c.Z)((0,s.Z)().mark((function n(){var t,r;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f.h.post("/members/",e);case 2:return t=n.sent,r=t.data,n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})))()},h=function(e){return(0,c.Z)((0,s.Z)().mark((function n(){var t,r;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f.h.get("/meetings/"+e);case 2:return t=n.sent,r=t.data,n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})))()},x=function(e,n){return(0,c.Z)((0,s.Z)().mark((function t(){var r,a;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.h.post("/meetings/",{company_id:e,name:n});case 2:return r=t.sent,a=r.data,t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})))()},v=function(e){return(0,c.Z)((0,s.Z)().mark((function n(){var t,r;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f.h.put("/meetings/",e);case 2:return t=n.sent,r=t.data,n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})))()},g=function(e){return(0,c.Z)((0,s.Z)().mark((function n(){var t,r;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f.h.post("/questions/",e);case 2:return t=n.sent,r=t.data,n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})))()},j=function(e){return(0,c.Z)((0,s.Z)().mark((function n(){var t,r;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f.h.post("/answers/",e);case 2:return t=n.sent,r=t.data,n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})))()},w=t(9202),y=function(e){return(0,c.Z)((0,s.Z)().mark((function n(){var t,r;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f.h.get("/catalogs/"+e);case 2:return t=n.sent,r=t.data,n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})))()},b=(0,o.ZP)()((function(e){return{companies:[],company:{id:"",requisites:{name:"",inn:"",kpp:"",address:""},members:[],meetings:[]},getCompanies:function(){var n=(0,c.Z)((0,s.Z)().mark((function n(){var t;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d();case 2:t=n.sent,e({companies:t});case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),addCompany:function(){var n=(0,c.Z)((0,s.Z)().mark((function n(t){var r;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,m(t);case 2:r=n.sent,e((function(e){return{companies:[].concat((0,i.Z)(e.companies),[r])}}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),getCompany:function(){var n=(0,c.Z)((0,s.Z)().mark((function n(t){var r;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,p(t);case 2:r=n.sent,e({company:r});case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),addMember:function(){var n=(0,c.Z)((0,s.Z)().mark((function n(t){return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Z(t);case 2:n.sent,e((function(e){return{company:(0,a.Z)((0,a.Z)({},e.company),{},{members:[].concat((0,i.Z)(e.company.members),[t])})}}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),meeting:{id:"",name:"",info:{name:""},questions:[],answers:[]},getMeeting:function(){var n=(0,c.Z)((0,s.Z)().mark((function n(t){var r;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,h(t);case 2:r=n.sent,e({meeting:(0,a.Z)((0,a.Z)({},r),{},{info:(0,a.Z)((0,a.Z)({},r.info),{},{date_of_meeting:r.info.date_of_meeting&&l()(r.info.date_of_meeting,w.J),date_of_registration:r.info.date_of_registration&&l()(r.info.date_of_registration,w.J)})})});case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),addMeeting:function(){var n=(0,c.Z)((0,s.Z)().mark((function n(t,r){var c;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,x(t,r);case 2:c=n.sent,e((function(e){return{company:(0,a.Z)((0,a.Z)({},e.company),{},{meetings:[].concat((0,i.Z)(e.company.meetings),[c])})}}));case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),changeMeetingInfo:function(){var n=(0,c.Z)((0,s.Z)().mark((function n(t){return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,v(t);case 2:n.sent,e((function(e){return{meeting:(0,a.Z)((0,a.Z)({},e.meeting),{},{info:(0,a.Z)((0,a.Z)({},e.meeting.info),{},{meetingInfo:t})})}}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),addQuesion:function(){var n=(0,c.Z)((0,s.Z)().mark((function n(t){var r;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,g(t);case 2:r=n.sent,e((function(e){return{meeting:(0,a.Z)((0,a.Z)({},e.meeting),{},{questions:[].concat((0,i.Z)(e.meeting.questions),[r])})}}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),addAnswer:function(){var n=(0,c.Z)((0,s.Z)().mark((function n(t){var r;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,j(t);case 2:r=n.sent,e((function(e){return{meeting:(0,a.Z)((0,a.Z)({},e.meeting),{},{answers:[].concat((0,i.Z)(e.meeting.answers),(0,i.Z)(r))})}}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),catalogs:{},getGatalog:function(){var n=(0,c.Z)((0,s.Z)().mark((function n(t){var i;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,y(t);case 2:i=n.sent,e((function(e){return{catalogs:(0,a.Z)((0,a.Z)({},e.catalogs),{},(0,r.Z)({},t,i))}}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}}))},9202:function(e,n,t){t.d(n,{J:function(){return r},y:function(){return a}});var r="YYYY-MM-DDTHH:mm",a="DD.MM.YYYY HH:mm"},5018:function(e,n,t){t.r(n),t.d(n,{default:function(){return T}});var r=t(2791),a=t(141),i=t(1966),s=t(6871),c=t(3504),o=t(9439),u=t(7947),l=t(8678),f=t(7309),d=t(184),m=function(e){var n=e.requisites;console.log("\ud83d\ude80 ~ file: index.tsx ~ line 21 ~ requisites",n);var t=(0,r.useState)(!0),a=(0,o.Z)(t,2),i=a[0],s=a[1],c=u.Z.useForm(),m=(0,o.Z)(c,1)[0],p=function(){s(!i)};return n.inn?(0,d.jsxs)("div",{children:[(0,d.jsxs)(u.Z,{form:m,disabled:i,layout:"vertical",initialValues:n,children:[(0,d.jsx)(u.Z.Item,{name:"name",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",rules:[{required:!0,message:"Please input the title of collection!"}],children:(0,d.jsx)(l.Z,{})}),(0,d.jsx)(u.Z.Item,{name:"inn",label:"\u0418\u041d\u041d",rules:[{required:!0,message:"Please input the title of collection!"}],children:(0,d.jsx)(l.Z,{})}),(0,d.jsx)(u.Z.Item,{name:"kpp",label:"\u041a\u041f\u041f",rules:[{required:!0,message:"Please input the title of collection!"}],children:(0,d.jsx)(l.Z,{})}),(0,d.jsx)(u.Z.Item,{name:"ogrn",label:"\u041e\u0413\u0420\u041d",rules:[{required:!0,message:"Please input the title of collection!"}],children:(0,d.jsx)(l.Z,{})}),(0,d.jsx)(u.Z.Item,{name:"address",label:"\u042e\u0440\u0438\u0434\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0430\u0434\u0440\u0435\u0441",rules:[{required:!0,message:"Please input the title of collection!"}],children:(0,d.jsx)(l.Z,{})})]}),i?(0,d.jsx)(f.Z,{type:"primary",onClick:p,children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"}):(0,d.jsx)(f.Z,{type:"primary",onClick:p,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]}):null},p=t(6750),Z=t(1413),h=t(8111),x=t(3441),v=t(2730),g=t(7528),j=t(3430),w=t(3335),y=t(3344),b=t(3583),k=j.Z.Option,q=h.ZP.create((function(e){var n=e.member,t=(0,r.useState)(!1),a=(0,o.Z)(t,2),i=a[0],s=a[1],c=(0,h.dd)(),f=u.Z.useForm(),m=(0,o.Z)(f,1)[0],p=(0,r.useCallback)((function(){m.validateFields().then((function(){var e=(0,Z.Z)({},m.getFieldsValue());c.resolve(e),c.hide()}))}),[c,m]);return(0,d.jsx)(w.Z,(0,Z.Z)((0,Z.Z)({},(0,h.Tr)(c)),{},{title:"\u041b\u0438\u0446\u043e",onOk:p,okText:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",cancelText:"\u041e\u0442\u043c\u0435\u043d\u0430",children:(0,d.jsxs)(u.Z,{form:m,initialValues:n,layout:"vertical",children:[(0,d.jsx)(u.Z.Item,{name:"firstname",label:"\u0418\u043c\u044f",rules:[{required:!0,message:"Please input the title of collection!"}],children:(0,d.jsx)(l.Z,{})}),(0,d.jsx)(u.Z.Item,{name:"lastname",label:"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e",rules:[{required:!0,message:"Please input the title of collection!"}],children:(0,d.jsx)(l.Z,{})}),(0,d.jsx)(u.Z.Item,{name:"sirname",label:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",rules:[{required:!0,message:"Please input the title of collection!"}],children:(0,d.jsx)(l.Z,{})}),(0,d.jsx)(u.Z.Item,{name:"passport",label:"\u041f\u0430\u0441\u043f\u043e\u0440\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435",rules:[{required:!0,message:"Please input the title of collection!"}],children:(0,d.jsx)(l.Z,{})}),(0,d.jsx)(u.Z.Item,{name:"type",label:"\u0420\u043e\u043b\u044c \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0430",rules:[{required:!0,message:"Please input the title of collection!"}],children:(0,d.jsx)(j.Z,{mode:"multiple",allowClear:!0,style:{width:"100%"},onChange:function(e){e.includes(b.eQ.owner)?s(!0):s(!1)},children:b.OM.map((function(e){return(0,d.jsx)(k,{children:e.ru},e.en)}))})}),i&&(0,d.jsx)(u.Z.Item,{name:"part",label:"\u0414\u043e\u043b\u044f \u0432 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438, %",rules:[{required:!0,message:"Please input the title of collection!"}],children:(0,d.jsx)(y.Z,{min:0,max:100})})]})}))})),_=function(e){var n=e.members,t=e.company_id,a=(0,h.dd)(q),i=(0,p.o)((function(e){return e})).addMember,s=(0,r.useCallback)((function(){a.show().then((function(e){i((0,Z.Z)((0,Z.Z)({},e),{},{company_id:t}))}))}),[a,n]),c=(0,r.useCallback)((function(e){a.show({member:e}).then((function(e){}))}),[a,n]),o=n.reduce((function(e,n){return e+ +n.part}),0);return(0,d.jsxs)("div",{children:[(0,d.jsx)(f.Z,{type:"primary",onClick:s,children:"+ \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0430"}),(0,d.jsxs)("div",{className:"cards",children:[100!==o&&(0,d.jsx)(x.Z,{message:"\u041e\u0431\u0449\u0430\u044f \u0434\u043e\u043b\u044f \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u043e\u0432 \u043d\u0435 \u0440\u0430\u0432\u043d\u0430 100%. \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0434\u043e\u043b\u0438 \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u043e\u0432 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438.",type:"warning"}),n.map((function(e){return(0,d.jsxs)(v.Z,{hoverable:!0,title:"".concat(e.sirname," ").concat(e.firstname," ").concat(e.lastname),onClick:function(){return c(e)},children:[(0,d.jsx)("div",{children:e.type.map((function(e,n){return(0,d.jsx)(g.Z,{color:"green",children:b.Ho[e]},n)}))}),(0,d.jsxs)("div",{children:["\u041f\u0430\u0441\u043f\u043e\u0440\u0442: ",e.passport]}),e.part&&(0,d.jsxs)("div",{children:["\u0414\u043e\u043b\u044f \u0432 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438: ",e.part,"%"]})]},e.id)}))]})]})},C=h.ZP.create((function(e){e.meeting;var n=(0,h.dd)(),t=u.Z.useForm(),a=(0,o.Z)(t,1)[0],i=(0,r.useCallback)((function(){a.validateFields().then((function(){var e=(0,Z.Z)({},a.getFieldsValue());n.resolve(e),n.hide()}))}),[n,a]);return(0,d.jsx)(w.Z,(0,Z.Z)((0,Z.Z)({},(0,h.Tr)(n)),{},{title:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0441\u043e\u0431\u0440\u0430\u043d\u0438\u0435",okText:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",cancelText:"\u041e\u0442\u043c\u0435\u043d\u0430",onOk:i,children:(0,d.jsx)(u.Z,{form:a,layout:"vertical",children:(0,d.jsx)(u.Z.Item,{name:"name",label:"\u0423\u0441\u043b\u043e\u0432\u043d\u043e\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u043e\u0431\u0440\u0430\u043d\u0438\u044f",rules:[{required:!0,message:"Please input the title of collection!"}],children:(0,d.jsx)(l.Z,{})})})}))})),I=t(4834),P=t(2426),M=t.n(P),Y=function(e){var n=e.meetings,t=e.company_id,a=(0,h.dd)(C),i=(0,p.o)((function(e){return e})).addMeeting,c=(0,s.s0)(),o=(0,r.useCallback)((function(){a.show().then((function(e){i(t,e.name)}))}),[a,n]);return(0,d.jsxs)("div",{children:[(0,d.jsx)(f.Z,{type:"primary",onClick:o,children:"+ \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u0431\u0440\u0430\u043d\u0438\u0435"}),(0,d.jsx)("div",{className:"cards",children:n.map((function(e){return(0,d.jsxs)(v.Z,{hoverable:!0,title:e.name,onClick:function(){return n=e.id,void c("/meetings/"+n);var n},children:[(0,d.jsx)("div",{children:M()(e.date_of_meeting).format("DD.MM.YYYY")}),(0,d.jsx)("div",{children:I.yo[e.type_of_cause]}),(0,d.jsx)("div",{children:I.LA[e.type]})]},e.id)}))})]})},O=a.Z.TabPane,T=function(){var e=(0,s.UO)().id,n=(0,p.o)((function(e){return e})),t=n.company,o=n.getCompany;return(0,r.useEffect)((function(){e&&o(e)}),[e]),t?(0,d.jsxs)("div",{children:[(0,d.jsxs)(i.Z,{children:[(0,d.jsx)(i.Z.Item,{children:(0,d.jsx)(c.OL,{to:"/companies",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"})}),(0,d.jsx)(i.Z.Item,{children:(0,d.jsx)(c.OL,{to:"/companies",children:"\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u0438"})})]}),(0,d.jsx)("div",{className:"header",children:(0,d.jsx)("h1",{children:"\u041e\u041e\u041e "+t.requisites.name})}),(0,d.jsxs)(a.Z,{defaultActiveKey:"1",children:[(0,d.jsx)(O,{tab:"\u0420\u0435\u043a\u0432\u0438\u0437\u0438\u0442\u044b",children:(0,d.jsx)(m,{requisites:t.requisites})},"1"),(0,d.jsx)(O,{tab:"\u041b\u0438\u0446\u0430",children:(0,d.jsx)(_,{members:t.members,company_id:t.id})},"2"),(0,d.jsx)(O,{tab:"\u0421\u043e\u0431\u0440\u0430\u043d\u0438\u044f",children:(0,d.jsx)(Y,{meetings:t.meetings,company_id:t.id})},"3")]})]}):null}},8098:function(e,n,t){t.d(n,{h:function(){return i},v:function(){return a}});var r=t(4569),a="http://82.146.40.11:5022/api",i=t.n(r)().create({baseURL:a,headers:{"Content-type":"application/json"}})}}]);
//# sourceMappingURL=18.08d33d4c.chunk.js.map